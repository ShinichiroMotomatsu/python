<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆçµŒè²»ç²¾ç®—ãƒ¢ãƒƒã‚¯ã‚¢ãƒƒãƒ—</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            background-color: #f0f0f0;
            display: flex;
            justify-content: center;
            align-items: flex-start;
            min-height: 100vh;
            padding-top: 20px; /* To avoid overlap with potential fixed headers */
        }
        .mobile-container {
            width: 375px; /* Typical mobile width */
            min-height: 812px; /* Typical mobile height */
            background-color: #fff;
            border: 1px solid #ccc;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }
        .status-bar {
            background-color: #f8f8f8;
            padding: 5px 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 12px;
            color: #333;
            border-bottom: 1px solid #eee;
        }
        .status-bar .time {
            font-weight: bold;
        }
        .status-bar .icons span {
            margin-left: 5px;
        }
        .info-icon-header {
            text-align: right;
            padding: 10px 15px 0; /* Added padding for info icon */
            font-size: 20px;
            color: #888;
        }
        .screen {
            padding: 15px;
            flex-grow: 1;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
        }
        .screen-title {
            font-size: 24px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }
        .agent-message-container {
            display: flex;
            align-items: flex-start;
            margin-bottom: 15px;
            padding: 10px;
            background-color: #eef7ff;
            border-radius: 8px;
            border: 1px solid #cce0ff;
        }
        .agent-icon {
            font-size: 24px; /* Placeholder for robot icon */
            margin-right: 10px;
        }
        .agent-message {
            background-color: #d1e7fd;
            padding: 10px 15px;
            border-radius: 15px 15px 15px 0; /* Speech bubble shape */
            font-size: 14px;
            color: #004085;
            flex-grow: 1;
        }
        .list-item {
            display: flex;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid #eee;
            font-size: 16px;
            cursor: pointer;
        }
        .list-item:last-child {
            border-bottom: none;
        }
        .list-item.active {
            background-color: #e9ecef;
            border-left: 4px solid #007bff;
            padding-left: 11px; /* Adjust for border */
        }
        .list-item .icon {
            margin-right: 10px;
            font-size: 20px;
            color: #007bff;
        }
        .list-item .arrow {
            margin-left: auto;
            color: #aaa;
        }
        .button {
            display: block;
            width: calc(100% - 30px);
            padding: 12px 15px;
            background-color: #007bff;
            color: white;
            text-align: center;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            margin: 10px 15px;
            text-decoration: none;
        }
        .button-secondary {
            background-color: #6c757d;
        }
        .button-danger {
            background-color: #dc3545;
            font-size: 12px;
            padding: 5px 8px;
            width: auto;
        }
        .centered-content {
            text-align: center;
            margin-top: 30px;
        }
        .robot-icon-large {
            font-size: 60px; /* Placeholder for large robot icon */
            margin-bottom: 10px;
        }
        .help-text {
            font-size: 14px;
            color: #555;
            margin-bottom: 20px;
        }
        .section-title {
            font-size: 14px;
            color: #666;
            margin-top: 20px;
            margin-bottom: 8px;
        }
        .card {
            background-color: #f8f9fa;
            border: 1px solid #e0e0e0;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 10px;
            font-size: 14px;
        }
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 5px;
        }
        .card-header .filename {
            font-weight: bold;
        }
        .card p {
            margin: 4px 0;
            color: #333;
        }
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            font-size: 14px;
            color: #333;
            margin-bottom: 5px;
        }
        .form-group input[type="text"],
        .form-group input[type="number"],
        .form-group input[type="date"],
        .form-group textarea {
            width: calc(100% - 22px);
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
            font-size: 14px;
        }
        .form-group textarea {
            min-height: 60px;
            resize: vertical;
        }
        .x-icon {
            cursor: pointer;
            color: #dc3545;
            font-weight: bold;
            font-size: 18px;
        }
        .alternatives-list {
            margin-top: 10px;
            border-top: 1px dashed #ccc;
            padding-top: 10px;
        }
        .alternative-item {
            background-color: #e9ecef;
            padding: 10px;
            border-radius: 4px;
            margin-bottom: 5px;
            cursor: pointer;
        }
        .alternative-item:hover {
            background-color: #dde2e6;
        }
        .speech-bubble-note {
            background-color: #f8f9fa;
            border: 1px solid #ced4da;
            padding: 10px;
            border-radius: 8px;
            font-size: 13px;
            color: #495057;
            margin: 15px 0;
            position: relative;
        }
        .speech-bubble-note::before {
            content: '';
            position: absolute;
            top: 10px;
            left: -10px;
            border-width: 10px;
            border-style: solid;
            border-color: transparent #ced4da transparent transparent;
        }
        .split-item-header {
            font-weight: bold;
            margin-top: 15px;
            margin-bottom: 5px;
        }
        .add-split-button {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            background-color: #007bff;
            color: white;
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            margin: 15px auto;
        }
        .preview-section {
            margin-bottom: 20px;
        }
        .preview-section-title {
            font-weight: bold;
            font-size: 16px;
            color: #333;
            margin-bottom: 10px;
            border-bottom: 1px solid #eee;
            padding-bottom: 5px;
        }
        .preview-item {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            margin-bottom: 5px;
        }
        .preview-item .label {
            color: #555;
        }
        .preview-item .value {
            color: #111;
            text-align: right;
        }
        .preview-item .modify-button {
            background-color: #ffc107;
            color: #333;
            border: none;
            padding: 3px 8px;
            border-radius: 4px;
            font-size: 12px;
            cursor: pointer;
        }
        .bottom-nav {
            display: flex;
            justify-content: space-around;
            padding: 10px 0;
            border-top: 1px solid #ccc;
            background-color: #f8f8f8;
        }
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            font-size: 12px;
            color: #555;
            cursor: pointer;
        }
        .nav-item.active {
            color: #007bff;
        }
        .nav-item .icon {
            font-size: 20px;
            margin-bottom: 3px;
        }
        .hidden {
            display: none !important;
        }
        .dropdown-arrow {
            text-align: center;
            color: #007bff;
            padding: 8px;
            cursor: pointer;
            font-size: 20px;
        }
    </style>
</head>
<body>
    <div class="mobile-container">
        <div class="status-bar">
            <span class="time">18:28</span>
            <span class="icons"><span>ğŸ“¶</span><span>ğŸ”‹</span></span>
        </div>

        <div id="screen1MainMenu" class="screen">
            <div class="info-icon-header">â“˜</div>
            <div class="list-item" onclick="alert('é ˜åæ›¸ã®èª­ã¿å–ã‚Šç”»é¢ã¸ï¼ˆæœªå®Ÿè£…ï¼‰')">
                <span class="icon">ğŸ“·</span> é ˜åæ›¸ã®èª­ã¿å–ã‚Š <span class="arrow">&gt;</span>
            </div>
            <div class="list-item" onclick="alert('ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ç™»éŒ²ç”»é¢ã¸ï¼ˆæœªå®Ÿè£…ï¼‰')">
                <span class="icon">ğŸ“</span> ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã‚‰ç™»éŒ² <span class="arrow">&gt;</span>
            </div>
            <div class="list-item" onclick="alert('é–²è¦§ãƒ»ç·¨é›†ç”»é¢ã¸ï¼ˆæœªå®Ÿè£…ï¼‰')">
                <span class="icon">âœï¸</span> é–²è¦§ãƒ»ç·¨é›† <span class="arrow">&gt;</span>
            </div>
            <div class="list-item active" onclick="showScreen('screen2AgentWelcome')">
                <span class="icon" style="color: #333;">â– </span> AIã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆ
            </div>
            <div style="flex-grow: 1;"></div> </div>

        <div id="screen2AgentWelcome" class="screen hidden">
            <div class="screen-title">ã‚¨ãƒ¼ã‚¸ã‚§ãƒ³ãƒˆç²¾ç®—</div>
            <div class="centered-content">
                <div class="robot-icon-large">ğŸ¤–</div>
                <p class="help-text">æ‰‹é–“ã®ã‹ã‹ã‚‹çµŒè²»ç”³è«‹ã‚’æ‰‹åŠ©ã‘è‡´ã—ã¾ã™</p>
            </div>
            <button class="button" onclick="showScreen('screen3ReceiptSelection')">ç²¾ç®—ã‚’é–‹å§‹ã™ã‚‹</button>
        </div>

        <div id="screen3ReceiptSelection" class="screen hidden">
            <div class="agent-message-container">
                <span class="agent-icon">ğŸ¤–</span>
                <div class="agent-message">ã¯ã˜ã‚ã«ç²¾ç®—ã™ã‚‹é ˜åæ›¸ã‚’æ•™ãˆã¦ä¸‹ã•ã„</div>
            </div>
            <div class="speech-bubble-note" style="margin-left: 20px; margin-right:0; width: 70%; align-self: flex-end;">å€™è£œã‹ã‚‰ä»Šå›ç²¾ç®—ã™ã‚‹é ˜åæ›¸ã‚’é¸ã¶</div>

            <div class="section-title">ç™»éŒ²: 1ä»¶</div>
            <div class="card" id="registeredReceipt1">
                <div class="card-header">
                    <span class="filename">ã‚«ã‚¯ãƒ¤ã‚¹.pdf</span>
                    <button class="button-danger" onclick="removeReceipt('registeredReceipt1')">å‰Šé™¤</button>
                </div>
                <p>å–å¼•æ—¥: 2025/01/30</p>
                <p>ç™»éŒ²æ—¥: 2025/01/30</p>
                <p>æ±æ ªå¼ä¼šç¤¾ã‚«ã‚¯ãƒ¤ã‚¹</p>
            </div>
            <div class="dropdown-arrow">â–¼</div>
            <div class="section-title">æœªç”³è«‹ã®é ˜åæ›¸ 12ä»¶ 
                <button style="font-size:12px; margin-left:5px;">æ–°ã—ã„é †</button>
                <button style="font-size:12px;">ãƒ•ã‚¡ã‚¤ãƒ«å</button>
            </div>
            <div class="card" onclick="selectUnappliedReceipt(this)">
                <p>EXäºˆç´„ (14).pdf</p>
                <p>å–å¼•æ—¥: 2025/01/30 ç™»éŒ²æ—¥: 2025/01/30</p>
                <p>æ±æµ·æ—…å®¢é‰„é“æ ªå¼ä¼šç¤¾ âšª</p>
            </div>
            <div class="card" onclick="selectUnappliedReceipt(this)">
                <p>ã‚µãƒ³ãƒ—ãƒ«é ˜åæ›¸.pdf</p>
                <p>å–å¼•æ—¥: 2025/01/28 ç™»éŒ²æ—¥: 2025/01/28</p>
                <p>æ ªå¼ä¼šç¤¾ABCã‚¹ãƒˆã‚¢ âšª</p>
            </div>
            <div style="flex-grow: 1;"></div> <button class="button" onclick="showScreen('screen4DataAssociation')">é¸æŠå®Œäº†ãƒ»æ¬¡ã¸</button>
        </div>

        <div id="screen4DataAssociation" class="screen hidden">
            <div class="agent-message-container">
                <span class="agent-icon">ğŸ¤–</span>
                <div class="agent-message">äº‹å‰ç”³è«‹ã‚„ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã¯ã“ã¡ã‚‰ã§ã™ã‹ï¼Ÿ</div>
            </div>
            <div class="speech-bubble-note" style="margin-left: 20px; margin-right:0; width: 70%; align-self: flex-end;">äº‹å‰ç”³è«‹ã‚„ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ãƒ‡ãƒ¼ã‚¿ã‚’ææ¡ˆã—ã¦ãã‚Œã‚‹ã®ã§ã€é¸æŠ(ã‚ã‚‹å ´åˆ)</div>

            <div class="section-title">ç´ã¥ã‘ã‚‹äº‹å‰ç”³è«‹</div>
            <div class="card" id="linkedAdvanceApp">
                <div style="display:flex; justify-content: space-between;">
                    <p><strong>ä¼ç¥¨:</strong> No.00030538</p>
                    <span class="x-icon" onclick="removeAssociation('linkedAdvanceApp')">Ã—</span>
                </div>
                <p><strong>ç”³è«‹æ—¥:</strong> 2025/1/07</p>
                <p><strong>æ¦‚è¦ãƒ»ç›®çš„:</strong> å–¶æ¥­éƒ¨ã§ã€ç¤¾å†…ã®ã‚«ãƒ•ã‚§ã‚¹ãƒšãƒ¼ã‚¹ã§äº¤æµä¼šå®Ÿæ–½ã®ãŸã‚ã€é£²é£Ÿã®è³¼å…¥</p>
            </div>

            <div class="section-title">ç´ã¥ã‘ã‚‹ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰æ”¯æ‰•ã„æ˜ç´°</div>
            <div class="card" id="linkedCreditCard" onclick="showCreditCardAlternatives()">
                <div style="display:flex; justify-content: space-between;">
                    <div>
                        <p><strong>åˆ©ç”¨æ˜ç´°ID:</strong> 12345678</p>
                        <p><strong>ä¼šç¤¾:</strong> ã‚«ã‚¯ãƒ¤ã‚¹æ ªå¼ä¼šç¤¾</p>
                    </div>
                    <span class="x-icon" onclick="event.stopPropagation(); removeAssociation('linkedCreditCard')">Ã—</span>
                </div>
                <p><strong>å—é ˜æ—¥:</strong> 2025/01/12 <strong>é‡‘é¡:</strong> 15,000å††</p>
                <p><strong>åˆ©ç”¨æ—¥:</strong> 2025/01/10</p>
            </div>
             <div id="creditCardAlternatives" class="alternatives-list hidden">
                <p style="font-size:13px; color:#555;">ä»–ã®å€™è£œ:</p>
                <div class="alternative-item" onclick="selectAlternativeCreditCard({id:'*****', company:'OOOæ ªå¼ä¼šç¤¾', date:'2025/01/14', amount:'20,000å††'})">
                    åˆ©ç”¨æ˜ç´°ID: *****, ä¼šç¤¾: OOOæ ªå¼ä¼šç¤¾, åˆ©ç”¨æ—¥: 2025/01/14, é‡‘é¡: 20,000å††
                </div>
                <div class="alternative-item" onclick="selectAlternativeCreditCard({id:'+++++', company:'XXXæ ªå¼ä¼šç¤¾', date:'2025/01/15', amount:'10,000å††'})">
                    åˆ©ç”¨æ˜ç´°ID: +++++, ä¼šç¤¾: XXXæ ªå¼ä¼šç¤¾, åˆ©ç”¨æ—¥: 2025/01/15, é‡‘é¡: 10,000å††
                </div>
            </div>
            <div class="dropdown-arrow">â–¼</div>
            <div style="flex-grow: 1;"></div> <button class="button" onclick="showScreen('screen6HeaderInput')">ã“ã‚Œã§å•é¡Œãªã„ ( > ãƒ˜ãƒƒãƒ€ãƒ¼é …ç›®ã®å…¥åŠ›ã«é€²ã¿ã¾ã™)</button>
            <button class="button button-secondary" onclick="showScreen('screen3ReceiptSelection')">é ˜åæ›¸ã‚’æ·»ä»˜ã—å¿˜ã‚ŒãŸ ( > ç™»éŒ²ã«æˆ»ã‚Šã¾ã™)</button>
        </div>

        <div id="screen6HeaderInput" class="screen hidden">
            <div class="agent-message-container">
                <span class="agent-icon">ğŸ¤–</span>
                <div class="agent-message">ãƒ˜ãƒƒãƒ€ãƒ¼ã®å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¾ã—ãŸã€‚å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚</div>
            </div>
            <div class="speech-bubble-note" style="margin-left: 20px; margin-right:0; width: 80%; align-self: flex-end;">é ˜åæ›¸ã€äº‹å‰ç”³è«‹ã€ã‚¯ãƒ¬ã‚«ã€éå»ã®ä¼ç¥¨ãªã©ã‹ã‚‰å¿…é ˆé …ç›®ã‚’ææ¡ˆã—ã¦ãã‚Œã‚‹ã®ã§ã€å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£</div>

            <div class="form-group">
                <label for="s6-purpose">æ¦‚è¦ãƒ»ç›®çš„</label>
                <textarea id="s6-purpose">å–¶æ¥­éƒ¨ã§ã€ç¤¾å†…ã®ã‚«ãƒ•ã‚§ã‚¹ãƒšãƒ¼ã‚¹ã§äº¤æµä¼šå®Ÿæ–½ã®ãŸã‚ã€é£²é£Ÿã®è³¼å…¥</textarea>
            </div>
            <div class="form-group">
                <label for="s6-vendor">è³¼å…¥å…ˆ <span style="font-size:10px; color: gray;">[é ˜åæ›¸ã®å†…å®¹ã‹ã‚‰äºˆæ¸¬]</span></label>
                <input type="text" id="s6-vendor" value="ã‚«ã‚¯ãƒ¤ã‚¹">
            </div>
            <div class="form-group">
                <label for="s6-applicant">ç”³è«‹è€…</label>
                <input type="text" id="s6-applicant" value="å®®å·æ‹“ä¹Ÿ (352)">
            </div>
            <div class="form-group">
                <label for="s6-department">è² æ‹…éƒ¨é–€</label>
                <input type="text" id="s6-department" value="å–¶æ¥­éƒ¨ (90)">
            </div>
            <div class="dropdown-arrow">â–¼</div>
            <div style="flex-grow: 1;"></div> <button class="button" onclick="showScreen('screen7LineItemInput')">ã“ã®å†…å®¹ã§OK ( > æ˜ç´°é …ç›®ã®å…¥åŠ›ã«é€²ã¿ã¾ã™)</button>
            <button class="button button-secondary" onclick="showScreen('screen3ReceiptSelection')">é ˜åæ›¸ã‚’æ·»ä»˜ã—å¿˜ã‚ŒãŸ ( > ç™»éŒ²ã«æˆ»ã‚Šã¾ã™)</button>
        </div>

        <div id="screen7LineItemInput" class="screen hidden">
            <div class="agent-message-container">
                <span class="agent-icon">ğŸ¤–</span>
                <div class="agent-message">æ˜ç´°ã®å¿…é ˆé …ç›®ã‚’å…¥åŠ›ã—ã¾ã—ãŸã€‚å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚</div>
            </div>
            <div class="speech-bubble-note" style="margin-left: 20px; margin-right:0; width: 60%; align-self: flex-end;">ãƒˆãƒˆã®æŠ€è¡“ã§å†…è¨³ã‚‚äºˆæ¸¬</div>
             <p style="font-weight:bold; margin-bottom:10px;">ã‚«ã‚¯ãƒ¤ã‚¹.pdf</p>

            <div class="form-group">
                <label for="s7-date">æ—¥ä»˜</label>
                <input type="date" id="s7-date" value="2025-01-10">
            </div>
            <div class="form-group">
                <label for="s7-breakdown">å†…è¨³</label>
                <input type="text" id="s7-breakdown" value="ç¤¾å†…äº¤æµè²»(é£²é£Ÿã¯ç¨è¾¼2,200å††ä»¥ä¸‹) /ä¼šè­°è²» ((10001))">
            </div>
            <div class="form-group">
                <label for="s7-participants">å‚åŠ äººæ•°</label>
                <input type="number" id="s7-participants" value="8">
            </div>
            <div class="form-group">
                <label for="s7-paymentMethod">æ”¯æ‰•æ–¹æ³•</label>
                <input type="text" id="s7-paymentMethod" value="ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰">
            </div>
            <div class="form-group">
                <label for="s7-amount">é‡‘é¡</label>
                <input type="text" id="s7-amount" value="15000å††">
            </div>
            <div class="form-group">
                <label for="s7-taxRate">ç¨ç‡</label>
                <input type="text" id="s7-taxRate" value="10%">
            </div>
            <div class="form-group">
                <label for="s7-remarks">å‚™è€ƒ</label>
                <textarea id="s7-remarks">ã‚ã‚ã‚ã‚ã‚ã‚ã‚ã‚</textarea>
            </div>
             <div class="speech-bubble-note" style="font-size:12px; margin-top:5px; margin-left: 20px; margin-right:0; width: 80%; align-self: flex-end;">ç¨ç‡ç­‰ã®ç†ç”±ã§ï¼‘ã¤ã®é ˜åæ›¸ã‹ã‚‰æ˜ç´°ã‚’åˆ†å‰²ã™ã‚‹å ´åˆã¯ã“ã“ã‚’ã‚¯ãƒªãƒƒã‚¯</div>
            <div class="dropdown-arrow">â–¼</div>
            <div style="flex-grow: 1;"></div> <button class="button" onclick="showScreen('screen10Preview')">ã“ã®å†…å®¹ã§OK ( > ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«é€²ã¿ã¾ã™)</button>
            <button class="button button-secondary" onclick="showScreen('screen8SplitItems')">æ˜ç´°ã‚’åˆ†å‰²ã—ãŸã„ ( > è©³ç´°ã‚’ä¼ºã„ã¾ã™)</button>
        </div>

        <div id="screen8SplitItems" class="screen hidden">
            <div class="agent-message-container">
                <span class="agent-icon">ğŸ¤–</span>
                <div class="agent-message">æ˜ç´°ã®åˆ†å‰²å†…å®¹ã‚’æ•™ãˆã¦ãã ã•ã„</div>
            </div>
            <div class="speech-bubble-note" style="margin-left: 20px; margin-right:0; width: 50%; align-self: flex-end;">ã“ã“ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒå…¥åŠ›</div>

            <div id="splitItemsContainer">
                <div class="split-item-block">
                    <div class="split-item-header">1ã¤ç›®</div>
                    <div class="form-group">
                        <label>æŒ‰åˆ†é‡‘é¡</label><input type="number" value="5000">
                    </div>
                    <div class="form-group">
                        <label>ç¨ç‡</label><input type="text" value="8%">
                    </div>
                    <div class="form-group">
                        <label>å‚™è€ƒ</label><input type="text" value="é£Ÿã¹ç‰©ã¨ã‚½ãƒ•ãƒˆãƒ‰ãƒªãƒ³ã‚¯">
                    </div>
                </div>
                <div class="split-item-block">
                    <div class="split-item-header">2ã¤ç›®</div>
                    <div class="form-group">
                        <label>æŒ‰åˆ†é‡‘é¡</label><input type="number" value="10000">
                    </div>
                    <div class="form-group">
                        <label>ç¨ç‡</label><input type="text" value="10%">
                    </div>
                    <div class="form-group">
                        <label>å‚™è€ƒ</label><input type="text" value="ãŠé…’">
                    </div>
                </div>
            </div>
            <div class="add-split-button" onclick="addSplitItemEntry()">+</div>
            <div class="dropdown-arrow">â–¼</div>
            <div style="flex-grow: 1;"></div> <button class="button" onclick="showScreen('screen9SplitItemView')">ã“ã®å†…å®¹ã§OK ( > æ˜ç´°é …ç›®ã®å…¥åŠ›ã«é€²ã¿ã¾ã™)</button>
            <button class="button button-secondary" onclick="showScreen('screen7LineItemInput')">å‰ã®ç”»é¢ã«æˆ»ã‚‹</button>
        </div>

        <div id="screen9SplitItemView" class="screen hidden">
            <div class="agent-message-container">
                <span class="agent-icon">ğŸ¤–</span>
                <div class="agent-message">åˆ†å‰²å¾Œã®æ˜ç´°é …ç›®ã‚’å…¥åŠ›ã—ã¾ã—ãŸã€‚å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£ã‚’ãŠé¡˜ã„ã—ã¾ã™ã€‚</div>
            </div>
             <div class="speech-bubble-note" style="margin-left: 20px; margin-right:0; width: 70%; align-self: flex-end;">åˆ†å‰²å¾Œã®æ˜ç´°ã®å†…å®¹ã‚’ææ¡ˆã—ã¦ãã‚Œã‚‹ã€‚å¿…è¦ã«å¿œã˜ã¦ä¿®æ­£</div>
            <p style="font-weight:bold; margin-bottom:5px;">ã‚«ã‚¯ãƒ¤ã‚¹.pdf <span style="background-color:#007bff; color:white; font-size:10px; padding:2px 4px; border-radius:3px;">åˆ†å‰²â‘ </span></p>

            <div class="form-group">
                <label>æ—¥ä»˜</label><input type="date" value="2025-01-10" readonly>
            </div>
            <div class="form-group">
                <label>å†…è¨³</label><input type="text" value="ç¤¾å†…äº¤æµè²»(é£²é£Ÿã¯ç¨è¾¼2,200å††ä»¥ä¸‹) /ä¼šè­°è²» ((10001))">
            </div>
            <div class="form-group">
                <label>å‚åŠ äººæ•°</label><input type="number" value="8" readonly>
            </div>
            <div class="form-group">
                <label>æ”¯æ‰•æ–¹æ³•</label><input type="text" value="ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰" readonly>
            </div>
            <div class="form-group">
                <label>é‡‘é¡</label><input type="text" value="5000å††">
            </div>
            <div class="form-group">
                <label>ç¨ç‡</label><input type="text" value="8%">
            </div>
            <div class="form-group">
                <label>å‚™è€ƒ</label><input type="text" value="é£Ÿã¹ç‰©ã¨ã‚½ãƒ•ãƒˆãƒ‰ãƒªãƒ³ã‚¯">
            </div>
            <p style="text-align:center; font-size:12px; color: #555;">(åˆ†å‰²â‘¡ä»¥é™ã®è¡¨ç¤ºã¯çœç•¥ã—ã¦ã„ã¾ã™)</p>
            <div class="dropdown-arrow">â–¼</div>
            <div style="flex-grow: 1;"></div> <button class="button" onclick="showScreen('screen10Preview')">ã“ã®å†…å®¹ã§OK ( > ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã«é€²ã¿ã¾ã™)</button>
            <button class="button button-secondary" onclick="showScreen('screen8SplitItems')">åˆ†å‰²ã‚’ä¿®æ­£ã™ã‚‹ ( > è©³ç´°ã‚’ä¼ºã„ã¾ã™)</button>
        </div>

        <div id="screen10Preview" class="screen hidden">
            <div class="agent-message-container">
                <span class="agent-icon">ğŸ¤–</span>
                <div class="agent-message">ä»¥ä¸‹ã®å†…å®¹ã§å•é¡Œãªã„ã‹ç¢ºèªã—ã¦ãã ã•ã„</div>
            </div>
            <div class="speech-bubble-note" style="margin-left: 20px; margin-right:0; width: 80%; align-self: flex-end;">ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¦‹ã¦ã€å•é¡Œãªã‘ã‚Œã°ã“ã®ã¾ã¾ç”³è«‹å®Œäº†ï¼</div>

            <div class="preview-section">
                <div class="preview-section-title">ãƒ˜ãƒƒãƒ€ãƒ¼é …ç›®</div>
                <div class="preview-item"><span class="label">æ—¥ä»˜:</span> <span class="value">2025/01/10</span></div>
                <div class="preview-item"><span class="label">æ¦‚è¦ãƒ»ç›®çš„:</span> <span class="value">å–¶æ¥­éƒ¨ã§...é£²é£Ÿã®è³¼å…¥</span> <button class="modify-button" onclick="showScreen('screen6HeaderInput')">ä¿®æ­£</button></div>
                <div class="preview-item"><span class="label">ç”³è«‹è€…:</span> <span class="value">å®®å·æ‹“ä¹Ÿ (352)</span></div>
                <div class="preview-item"><span class="label">è² æ‹…éƒ¨é–€:</span> <span class="value">å–¶æ¥­éƒ¨ (90)</span></div>
            </div>

            <div class="preview-section">
                <div class="preview-section-title">é ˜åæ›¸1 (ã‚«ã‚¯ãƒ¤ã‚¹.pdf)</div>
                <div class="preview-item-title" style="font-weight:bold; font-size: 14px; margin-top:10px;">æ˜ç´°1 (åˆ†å‰²â‘ ) <button class="modify-button" onclick="showScreen('screen9SplitItemView')">ä¿®æ­£</button></div>
                <div class="preview-item"><span class="label">æ—¥ä»˜:</span> <span class="value">2025/01/10</span></div>
                <div class="preview-item"><span class="label">å†…è¨³:</span> <span class="value">ç¤¾å†…äº¤æµè²»...</span></div>
                <div class="preview-item"><span class="label">å‚åŠ äººæ•°:</span> <span class="value">8</span></div>
                <div class="preview-item"><span class="label">æ”¯æ‰•æ–¹æ³•:</span> <span class="value">ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰</span></div>
                <div class="preview-item"><span class="label">é‡‘é¡:</span> <span class="value">5,000å††</span></div>
                <div class="preview-item"><span class="label">ç¨ç‡:</span> <span class="value">8%</span></div>
                <div class="preview-item"><span class="label">äº‹æ¥­è€…ç™»éŒ²ç•ªå·:</span> <span class="value">T123...</span></div>
                <div class="preview-item"><span class="label">å‚™è€ƒ:</span> <span class="value">é£Ÿã¹ç‰©ã¨ã‚½ãƒ•ãƒˆãƒ‰ãƒªãƒ³ã‚¯</span></div>

                <div class="preview-item-title" style="font-weight:bold; font-size: 14px; margin-top:10px;">æ˜ç´°2 (åˆ†å‰²â‘¡) <button class="modify-button" onclick="showScreen('screen9SplitItemView')">ä¿®æ­£</button></div>
                 <div class="preview-item"><span class="label">é‡‘é¡:</span> <span class="value">10,000å††</span></div>
                 <div class="preview-item"><span class="label">ç¨ç‡:</span> <span class="value">10%</span></div>
                 <p style="font-size:12px; color: #555;">(ãã®ä»–é …ç›®ã¯æ˜ç´°1ã¨åŒæ§˜ã¨ä»®å®š)</p>
            </div>
             <div class="speech-bubble-note" style="font-size:12px; margin-top:5px; margin-left: 20px; margin-right:0; width: 80%; align-self: flex-end;">ä¸€æ™‚ä¿å­˜ã—ã¦æ¥½å¤©ç²¾ç®—ã®ã‚¹ãƒãƒ›ç‰ˆã‚„PCç‰ˆã§ä¿®æ­£ã—ãŸã‹ã£ãŸã‚‰ã“ã¡ã‚‰ã‚’ã‚¯ãƒªãƒƒã‚¯</div>
            <div style="flex-grow: 1;"></div> <button class="button" onclick="alert('ç”³è«‹å®Œäº†ã—ã¾ã—ãŸï¼ï¼ˆæœªå®Ÿè£…ï¼‰'); showScreen('screen1MainMenu');">ã“ã®ã¾ã¾ç”³è«‹</button>
            <button class="button button-secondary" onclick="alert('ä¸€æ™‚ä¿å­˜ã—ã¾ã—ãŸï¼ï¼ˆæœªå®Ÿè£…ï¼‰'); showScreen('screen1MainMenu');">ä¸€æ™‚ä¿å­˜ ( > æ¥½å¤©ç²¾ç®—ã¸æˆ»ã‚Šã¾ã™)</button>
        </div>

        <div class="bottom-nav">
            <div class="nav-item active" onclick="showScreen('screen1MainMenu')">
                <span class="icon">ğŸ“„</span> æƒ…å ±
            </div>
            <div class="nav-item" onclick="alert('ç”³è«‹ç”»é¢ã¸ï¼ˆæœªå®Ÿè£…ï¼‰')">
                <span class="icon">ğŸ“</span> ç”³è«‹
            </div>
            <div class="nav-item" onclick="alert('æ‰¿èªç”»é¢ã¸ï¼ˆæœªå®Ÿè£…ï¼‰')">
                <span class="icon">âœ”ï¸</span> æ‰¿èª
            </div>
            <div class="nav-item" onclick="alert('ãã®ä»–ç”»é¢ã¸ï¼ˆæœªå®Ÿè£…ï¼‰')">
                <span class="icon">â€¢â€¢â€¢</span> ãã®ä»–
            </div>
        </div>
    </div>

    <script>
        let currentScreen = 'screen1MainMenu';
        const screens = [
            'screen1MainMenu', 'screen2AgentWelcome', 'screen3ReceiptSelection',
            'screen4DataAssociation', 'screen6HeaderInput', 'screen7LineItemInput',
            'screen8SplitItems', 'screen9SplitItemView', 'screen10Preview'
        ];

        function showScreen(screenId) {
            document.getElementById(currentScreen).classList.add('hidden');
            document.getElementById(screenId).classList.remove('hidden');
            currentScreen = screenId;
            // Update active state for bottom nav if needed
            updateBottomNav(screenId);
        }
        
        function updateBottomNav(screenId) {
            const navItems = document.querySelectorAll('.bottom-nav .nav-item');
            navItems.forEach(item => item.classList.remove('active'));
            if (screenId === 'screen1MainMenu') { // Example: Home is 'æƒ…å ±'
                document.querySelector('.bottom-nav .nav-item:nth-child(1)').classList.add('active');
            }
            // Add more conditions for other nav items if they lead to specific screens in this flow
        }


        function removeReceipt(receiptId) {
            const receiptElement = document.getElementById(receiptId);
            if (receiptElement) {
                receiptElement.style.display = 'none'; // Or remove()
                alert(receiptElement.querySelector('.filename').textContent + ' ã‚’å‰Šé™¤ã—ã¾ã—ãŸã€‚');
            }
        }

        function selectUnappliedReceipt(element) {
            // Simple visual feedback, could be more complex (e.g., moving to a selected list)
            document.querySelectorAll('#screen3ReceiptSelection .card').forEach(card => card.style.border = '1px solid #e0e0e0');
            element.style.border = '2px solid #007bff';
            alert(element.querySelector('p').textContent + ' ã‚’é¸æŠã—ã¾ã—ãŸã€‚');
        }

        function removeAssociation(elementId) {
            const element = document.getElementById(elementId);
            if (element) {
                element.style.opacity = '0.5';
                element.style.pointerEvents = 'none';
                const xIcon = element.querySelector('.x-icon');
                if(xIcon) xIcon.style.display = 'none';
                alert('é–¢é€£ä»˜ã‘ã‚’è§£é™¤ã—ã¾ã—ãŸã€‚');
            }
        }
        
        function showCreditCardAlternatives() {
            // This simulates the behavior from image 5
            // "é–“é•ã£ã¦ãŸå ´åˆã€ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨ã€ä¸‹ã®ã‚ˆã†ã«ãã®ä»–ã®å€™è£œã‚’ææ¡ˆã—ã¦ãã‚Œã‚‹"
            const alternativesDiv = document.getElementById('creditCardAlternatives');
            alternativesDiv.classList.toggle('hidden');
            alert('ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ã®ä»–ã®å€™è£œã‚’è¡¨ç¤º/éè¡¨ç¤ºã—ã¾ã™ã€‚');
        }

        function selectAlternativeCreditCard(data) {
            const mainCard = document.getElementById('linkedCreditCard');
            mainCard.querySelector('p:nth-of-type(1)').innerHTML = `<strong>åˆ©ç”¨æ˜ç´°ID:</strong> ${data.id}`;
            mainCard.querySelector('p:nth-of-type(2)').innerHTML = `<strong>ä¼šç¤¾:</strong> ${data.company}`;
            mainCard.querySelectorAll('p')[2].innerHTML = `<strong>å—é ˜æ—¥:</strong> (æ›´æ–°ã•ã‚ŒãŸæ—¥ä»˜) <strong>é‡‘é¡:</strong> ${data.amount}`;
            mainCard.querySelectorAll('p')[3].innerHTML = `<strong>åˆ©ç”¨æ—¥:</strong> ${data.date}`;
            document.getElementById('creditCardAlternatives').classList.add('hidden');
            alert(data.company + ' ã®æ˜ç´°ã‚’é¸æŠã—ã¾ã—ãŸã€‚');
        }

        let splitItemCounter = 2; // Starts after the initial 2 items
        function addSplitItemEntry() {
            splitItemCounter++;
            const container = document.getElementById('splitItemsContainer');
            const newEntry = document.createElement('div');
            newEntry.classList.add('split-item-block');
            newEntry.innerHTML = `
                <div class="split-item-header">${splitItemCounter}ã¤ç›®</div>
                <div class="form-group">
                    <label>æŒ‰åˆ†é‡‘é¡</label><input type="number">
                </div>
                <div class="form-group">
                    <label>ç¨ç‡</label><input type="text">
                </div>
                <div class="form-group">
                    <label>å‚™è€ƒ</label><input type="text">
                </div>
            `;
            container.appendChild(newEntry);
        }

        // Initialize first screen
        document.addEventListener('DOMContentLoaded', () => {
             screens.forEach(s => {
                if (s !== currentScreen) document.getElementById(s).classList.add('hidden');
             });
             document.getElementById(currentScreen).classList.remove('hidden');
             updateBottomNav(currentScreen);
        });

    </script>
</body>
</html>