<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SaaSプラットフォーム再構築構想 インフォグラフィック</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;700&display=swap" rel="stylesheet">
    <!-- 
    Narrative & Structure Plan (v2):
    1.  Title & Introduction: Introduce the purpose of the re-architecture.
    2.  The Challenge (現状の課題): Visualize the three main problems (Performance, Flexibility, Efficiency).
    3.  The Vision (新構想): A side-by-side flowchart comparing the current (As-Is) and future (To-Be) architectures, explicitly showing the shared database to highlight coexistence.
    4.  The Engine - Definition Files (コアコンセプト): Explain the "Definition File" concept with a code example and a process flow diagram.
    5.  The Future - AI-Powered Development (将来展望): Illustrate the flow of generating applications from natural language using AI.
    6.  The Benefits (期待される効果): Use charts to quantify the expected improvements.
    7.  Conclusion: A final, strong statement about the strategic investment.
    
    Visualization Selection (v2 Update):
    -   As-Is vs To-Be Architecture: Goal: Organize/Compare. Chosen Viz: Modified Flowchart using styled divs. Justification: Updated to clearly show a single, shared database resource, emphasizing coexistence and phased migration. This is the most effective non-SVG/Mermaid method for this concept. NO SVG/Mermaid JS.
    -   (Other selections remain the same)

    Constraint Confirmation:
    -   Mermaid JS was NOT used. All flowcharts are built with HTML and Tailwind CSS.
    -   SVG was NOT used. All graphics are either HTML/CSS, Unicode characters, or rendered on Canvas by Chart.js.
    -->
    <style>
        body {
            font-family: 'Noto Sans JP', sans-serif;
            background-color: #f0f8ff; /* AliceBlue - a very light, soft blue */
        }
        .gradient-text {
            background: linear-gradient(90deg, #005f73, #0a9396);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            height: 300px;
            max-height: 400px;
        }
        @media (min-width: 768px) {
            .chart-container {
                height: 350px;
            }
        }
        .flow-card {
            background-color: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            padding: 1rem;
            text-align: center;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            transition: all 0.3s ease;
        }
        .flow-arrow {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0.5rem 0;
            color: #94a3b8;
            font-weight: bold;
        }
        .flow-arrow::after {
            content: '▼';
            font-size: 1.5rem;
        }
        .flow-arrow-right {
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 1rem;
            color: #94a3b8;
            font-weight: bold;
        }
        .flow-arrow-right::after {
            content: '▶';
            font-size: 1.5rem;
        }
        .shared-db-arrow {
            height: 40px;
            width: 2px;
            background-color: #94a3b8;
            margin: 0 auto;
        }
        .shared-db-arrow::after {
            content: '▼';
            display: block;
            text-align: center;
            color: #94a3b8;
            margin-top: 35px;
        }
    </style>
</head>
<body class="text-gray-800">

    <div class="container mx-auto p-4 md:p-8">

        <header class="text-center mb-12 md:mb-16">
            <h1 class="text-4xl md:text-5xl font-bold gradient-text mb-4">SaaSプラットフォーム再構築構想</h1>
            <p class="text-lg md:text-xl text-gray-600 max-w-4xl mx-auto">ビジネスの成長を加速させるための、次世代アーキテクチャへの戦略的転換</p>
        </header>

        <main>
            <section id="challenge" class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-4 text-[#005f73]">ビジネス成長を阻む３つの壁</h2>
                <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">現在のPHPによるモノリシックなシステムは、柔軟性とパフォーマンスの限界に直面しており、将来のビジネス展開における大きなボトルネックとなっています。</p>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <div class="bg-white rounded-lg shadow-xl p-8 text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-6xl mb-4">🐌</div>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">パフォーマンスの限界</h3>
                        <p class="text-gray-600">大規模利用時の処理速度がボトルネックとなり、ユーザー体験を損なうリスクが増大しています。</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-xl p-8 text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-6xl mb-4">🔗</div>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">柔軟性の欠如</h3>
                        <p class="text-gray-600">UIとバックエンドの密結合により、新技術の導入や外部システム連携が困難になっています。</p>
                    </div>
                    <div class="bg-white rounded-lg shadow-xl p-8 text-center transform hover:scale-105 transition-transform duration-300">
                        <div class="text-6xl mb-4">⏳</div>
                        <h3 class="text-2xl font-bold text-[#005f73] mb-2">開発効率の低下</h3>
                        <p class="text-gray-600">複雑化したコードベースが、機能追加や改修のスピードを著しく低下させています。</p>
                    </div>
                </div>
            </section>

            <section id="vision" class="mb-16 bg-white rounded-lg shadow-lg p-6 md:p-10">
                <h2 class="text-3xl font-bold text-center mb-10 text-[#005f73]">解決策：新旧システム共存による段階的進化</h2>
                <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">既存のデータベース資産はそのまま活用し、新旧システムが共存しながら段階的に移行を進めることが可能です。これにより、リスクを最小限に抑えつつ、スムーズなアーキテクチャ刷新を実現します。</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 md:gap-12 items-start">
                    <div>
                        <h3 class="text-2xl font-bold text-center mb-4 text-red-600">As-Is: 既存システム</h3>
                        <div class="p-4 border-2 border-red-200 rounded-lg bg-red-50 h-full">
                             <div class="flow-card bg-red-100 border-red-300">ユーザー</div>
                             <div class="flow-arrow"></div>
                             <div class="p-4 border-2 border-dashed border-red-400 rounded-lg">
                                <h4 class="font-bold text-center mb-2 text-red-700">一体型PHPアプリケーション</h4>
                                <div class="flow-card">UI / ビジネスロジック / データアクセス</div>
                            </div>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-2xl font-bold text-center mb-4 text-green-600">To-Be: 新プラットフォーム</h3>
                        <div class="p-4 border-2 border-green-200 rounded-lg bg-green-50 h-full">
                            <div class="grid grid-cols-2 gap-2 mb-4">
                                <div class="flow-card">Web UI</div>
                                <div class="flow-card">モバイルアプリ</div>
                                <div class="flow-card">外部システム</div>
                                <div class="flow-card">生成AI</div>
                            </div>
                             <div class="text-center font-bold text-green-700">REST API連携</div>
                             <div class="flow-arrow"></div>
                             <div class="p-4 border-2 border-dashed border-green-400 rounded-lg">
                                 <h4 class="font-bold text-center mb-2 text-green-700">ヘッドレス・プラットフォーム</h4>
                                 <div class="flow-card">API / アプリケーションエンジン</div>
                             </div>
                        </div>
                    </div>
                </div>
                <div class="flex justify-center mt-[-1px]">
                     <div class="w-1/2 pr-6"><div class="shared-db-arrow"></div></div>
                     <div class="w-1/2 pl-6"><div class="shared-db-arrow"></div></div>
                </div>
                <div class="flow-card bg-blue-50 border-blue-200 mt-4 max-w-md mx-auto">
                    <h4 class="font-bold text-blue-800">共通リレーショナルデータベース (既存資産)</h4>
                    <p class="text-sm text-blue-600">データベースはそのままに、新旧両方のシステムからアクセスします。</p>
                </div>
            </section>

            <section id="engine" class="mb-16">
                <h2 class="text-3xl font-bold text-center mb-4 text-[#005f73]">新開発の核：定義ファイル</h2>
                <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">GUIに代わり、アプリケーションの構造やロジックをテキストで記述。これにより、Gitでのバージョン管理や、設定の再利用、そして自動化が容易になります。</p>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 items-center">
                    <div class="bg-gray-800 rounded-lg shadow-lg p-4 font-mono text-sm text-white">
                        <pre><code class="language-yaml"># 例: 顧客DBと自動処理の定義
database:
  name: Customers
  fields:
    - { name: companyName, type: string }
    - { name: email, type: email }
---
automation:
  name: CreateInvoiceOnOrder
  targetDb: Deals
  trigger: onUpdate
  condition: "record.status == '受注'"
  actions:
    - type: createRecord
      targetDb: Invoices
      values:
        customer: record.customer
        amount: record.amount
                        </code></pre>
                    </div>
                     <div class="p-4">
                        <h3 class="text-2xl font-bold text-center mb-6">開発・運用フローの変革</h3>
                        <div class="flex items-center justify-center">
                            <div class="flow-card w-40">定義ファイル</div>
                            <div class="flex flex-col items-center mx-4">
                                <span class="text-green-600">▶ デプロイ</span>
                                <span class="text-blue-600">◀ エクスポート</span>
                            </div>
                            <div class="flow-card w-40 bg-blue-50">プラットフォーム</div>
                            <div class="flow-arrow-right"></div>
                             <div class="flow-card w-40">アプリケーション</div>
                        </div>
                        <p class="text-center text-gray-600 mt-4">定義ファイルを元にアプリを構築し、逆に既存アプリから定義ファイルを出力することも可能な、双方向のフローを実現します。</p>
                    </div>
                </div>
            </section>
            
            <section id="future" class="mb-16 bg-white rounded-lg shadow-lg p-6 md:p-10">
                <h2 class="text-3xl font-bold text-center mb-4 text-[#005f73]">未来の姿：AIによる開発の自動化</h2>
                <p class="text-center text-gray-600 mb-10 max-w-3xl mx-auto">明確なルールを持つ「定義ファイル」は、生成AIと非常に高い親和性を持ちます。将来的には、自然言語で指示するだけでアプリケーションが自動生成される世界を目指します。</p>
                <div class="w-full p-4">
                    <div class="flex flex-col md:flex-row items-center justify-center space-y-4 md:space-y-0 md:space-x-4">
                        <div class="flow-card w-48 text-center">
                            <div class="text-4xl">👤</div>
                            <div>ユーザー</div>
                            <p class="text-xs mt-1 text-gray-500">「顧客DBを作って」</p>
                        </div>
                        <div class="flow-arrow md:hidden"></div>
                        <div class="flow-arrow-right hidden md:flex"></div>
                        <div class="flow-card w-48 text-center bg-blue-50">
                             <div class="text-4xl">🤖</div>
                            <div>生成AI</div>
                            <p class="text-xs mt-1 text-gray-500">定義ファイルを生成</p>
                        </div>
                        <div class="flow-arrow md:hidden"></div>
                        <div class="flow-arrow-right hidden md:flex"></div>
                         <div class="flow-card w-48 text-center">
                            <div class="text-4xl">⚙️</div>
                            <div>プラットフォーム</div>
                             <p class="text-xs mt-1 text-gray-500">アプリを自動構築</p>
                        </div>
                        <div class="flow-arrow md:hidden"></div>
                        <div class="flow-arrow-right hidden md:flex"></div>
                         <div class="flow-card w-48 text-center bg-green-50">
                            <div class="text-4xl">🚀</div>
                            <div>アプリケーション</div>
                             <p class="text-xs mt-1 text-gray-500">即時利用可能</p>
                        </div>
                    </div>
                </div>
            </section>

            <section id="benefits" class="mb-8">
                <h2 class="text-3xl font-bold text-center mb-10 text-[#005f73]">再構築がもたらす絶大な効果</h2>
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                    <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-xl font-bold text-center mb-4 text-[#005f73]">圧倒的なパフォーマンス向上</h3>
                        <p class="text-center text-gray-600 mb-4">モダンな言語とアーキテクチャにより、処理速度が劇的に向上。大規模なワークフローも瞬時に実行します。</p>
                        <div class="chart-container">
                            <canvas id="performanceChart"></canvas>
                        </div>
                    </div>
                     <div class="bg-white rounded-lg shadow-lg p-6">
                        <h3 class="text-xl font-bold text-center mb-4 text-[#005f73]">ビジネス価値の最大化</h3>
                        <p class="text-center text-gray-600 mb-4">開発生産性、拡張性、そして将来性が飛躍的に向上し、持続的なビジネス成長の基盤を築きます。</p>
                        <div class="grid grid-cols-2 gap-4 h-full items-center">
                            <div class="text-center">
                                <div class="chart-container !h-40 !max-h-48"><canvas id="dxChart"></canvas></div>
                                <h4 class="font-bold mt-2">開発者体験 (DX)</h4>
                            </div>
                            <div class="text-center">
                                <div class="chart-container !h-40 !max-h-48"><canvas id="scalabilityChart"></canvas></div>
                                <h4 class="font-bold mt-2">拡張性</h4>
                            </div>
                            <div class="text-center">
                                <div class="chart-container !h-40 !max-h-48"><canvas id="aiChart"></canvas></div>
                                <h4 class="font-bold mt-2">AIによる付加価値</h4>
                            </div>
                             <div class="text-center">
                                <div class="chart-container !h-40 !max-h-48"><canvas id="continuityChart"></canvas></div>
                                <h4 class="font-bold mt-2">ビジネス継続性</h4>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <footer class="text-center mt-16 py-8 border-t border-gray-300">
                <p class="text-xl font-bold text-[#005f73]">これは単なる技術刷新ではない。未来の市場で勝ち抜くための、戦略的投資である。</p>
            </footer>
        </main>
    </div>

    <script>
        const chartTooltipOptions = {
            plugins: {
                tooltip: {
                    callbacks: {
                        title: function(tooltipItems) {
                            const item = tooltipItems[0];
                            let label = item.chart.data.labels[item.dataIndex];
                            if (Array.isArray(label)) {
                                return label.join(' ');
                            }
                            return label;
                        }
                    }
                },
                legend: {
                    display: false
                }
            }
        };

        const donutChartOptions = {
            ...chartTooltipOptions,
            cutout: '70%',
            plugins: {
                ...chartTooltipOptions.plugins,
                legend: {
                    display: false
                },
                tooltip: {
                    enabled: false
                }
            }
        };

        const colors = {
            deepBlue: '#005f73',
            teal: '#0a9396',
            mint: '#94d2bd',
            lightGray: '#e9ecef',
            red: '#ae2012',
        };

        const performanceCtx = document.getElementById('performanceChart').getContext('2d');
        new Chart(performanceCtx, {
            type: 'bar',
            data: {
                labels: ['従来(PHP)', '新プラットフォーム'],
                datasets: [{
                    label: '相対的処理性能',
                    data: [1, 15],
                    backgroundColor: [colors.red, colors.teal],
                    borderColor: [colors.red, colors.teal],
                    borderWidth: 1
                }]
            },
            options: {
                ...chartTooltipOptions,
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        beginAtZero: true,
                        title: {
                            display: true,
                            text: '相対的処理性能 (倍)'
                        }
                    }
                }
            }
        });

        const createDonutChart = (id, label, value, color) => {
            const ctx = document.getElementById(id).getContext('2d');
            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: [label, ''],
                    datasets: [{
                        data: [value, 100 - value],
                        backgroundColor: [color, colors.lightGray],
                        borderWidth: 0,
                    }]
                },
                options: donutChartOptions
            });
        };

        createDonutChart('dxChart', '開発者体験', 90, colors.teal);
        createDonutChart('scalabilityChart', '拡張性', 95, colors.deepBlue);
        createDonutChart('aiChart', 'AI付加価値', 100, colors.teal);
        createDonutChart('continuityChart', 'ビジネス継続性', 98, colors.deepBlue);
    </script>

</body>
</html>
